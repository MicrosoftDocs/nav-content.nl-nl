---
title: 'Ontwerpdetails: Boekingsstructuur artikeltracering'
description: Leer hoe u artikelposten als primaire bron van artikeltraceringsnummers gebruikt.
documentationcenter: 
author: SorenGP
ms.prod: dynamics-nav-2017
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: design, item tracking, posting, inventory
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 4fefaef7380ac10836fcac404eea006f55d8556f
ms.openlocfilehash: f31c9da412b4411cc8b104e59d1255456d096794
ms.contentlocale: nl-nl
ms.lasthandoff: 10/16/2017

---
# <a name="design-details-item-tracking-posting-structure"></a><span data-ttu-id="c2047-103">Ontwerpdetails: Boekingsstructuur artikeltracering</span><span class="sxs-lookup"><span data-stu-id="c2047-103">Design Details: Item Tracking Posting Structure</span></span>
<span data-ttu-id="c2047-104">Artikelposten worden gebruikt als primaire bron van artikeltraceringsnummers om af te stemmen met de functionaliteit voor voorraadwaardering en om een eenvoudigere en robuustere oplossing te bieden.</span><span class="sxs-lookup"><span data-stu-id="c2047-104">To align with inventory costing functionality and to obtain a simpler and more robust solution, item ledger entries are used as the primary carrier of item tracking numbers.</span></span>  
  
<span data-ttu-id="c2047-105">Artikeltraceringsnummers van ordernetwerkentiteiten en niet-ordernetwerkentiteiten worden opgegeven in tabel (T337) **Reserveringspost**.</span><span class="sxs-lookup"><span data-stu-id="c2047-105">Item tracking numbers on order network entities and non-order network entities are specified in the **Reservation Entry** table (T337).</span></span> <span data-ttu-id="c2047-106">Artikeltraceringsnummers die zijn gerelateerd aan historische gegevens, worden direct opgehaald uit de artikelposten die gerelateerd zijn aan de desbetreffende transactie.</span><span class="sxs-lookup"><span data-stu-id="c2047-106">Item tracking numbers that are related to historical information are retrieved directly from the item ledger entries that are related to the transaction in question.</span></span> <span data-ttu-id="c2047-107">Dit betekent dat de artikelposten de artikeltraceringspecificatie van de geboekte orderregel aangeven.</span><span class="sxs-lookup"><span data-stu-id="c2047-107">This means that item ledger entries reflect the item tracking specification of the posted order line.</span></span>  
  
<span data-ttu-id="c2047-108">In het venster **Artikeltraceringsregels** wordt de informatie opgehaald uit T337 en de artikelposten, en wordt deze getoond via de tijdelijke tabel **Traceringsspecificatie** (T336).</span><span class="sxs-lookup"><span data-stu-id="c2047-108">The **Item Tracking Lines** window retrieves the information from T337 and the item ledger entries and shows it through the temporary table, **Tracking Specification** (T336).</span></span> <span data-ttu-id="c2047-109">T336 bevat ook de tijdelijke gegevens in het venster **Artikeltraceringsregels** voor artikeltraceringsaantallen die nog moet worden gefactureerd.</span><span class="sxs-lookup"><span data-stu-id="c2047-109">T336 also hold the temporary data in the **Item Tracking Lines window** for item tracking quantities that remain to be invoiced.</span></span>  
  
## <a name="one-to-many-relation"></a><span data-ttu-id="c2047-110">Een-op-veel-relatie</span><span class="sxs-lookup"><span data-stu-id="c2047-110">One-to-Many Relation</span></span>  
<span data-ttu-id="c2047-111">De tabel **Artikelpostrelatie**, die wordt gebruikt om een geboekte documentregel te koppelen aan de gerelateerde artikelposten, bestaat uit twee hoofdonderdelen:</span><span class="sxs-lookup"><span data-stu-id="c2047-111">The **Item Entry Relation** table, which is used to link a posted document line with its related item ledger entries, consists of two main parts:</span></span>  
  
* <span data-ttu-id="c2047-112">Een verwijzing naar de geboekte documentregel, het veld **Orderregelnr.**.</span><span class="sxs-lookup"><span data-stu-id="c2047-112">A pointer to the posted document line, the **Order Line No.**</span></span> <span data-ttu-id="c2047-113">te kiezen.</span><span class="sxs-lookup"><span data-stu-id="c2047-113">field.</span></span>  
* <span data-ttu-id="c2047-114">Een volgnummer dat verwijst naar een artikelpost, het veld **Artikelpostnr.**.</span><span class="sxs-lookup"><span data-stu-id="c2047-114">An entry number pointing to an item ledger entry, the **Item Entry No.** field.</span></span>  
  
<span data-ttu-id="c2047-115">De functionaliteit van het bestaande veld **Volgnummer**, waarmee een artikelpost aan een geboekte documentregel wordt gekoppeld, verwerkt de veelvoorkomende één-op-één-relatie wanneer er geen artikeltraceringsnummers bestaan op de geboekte documentregel.</span><span class="sxs-lookup"><span data-stu-id="c2047-115">The functionality of the existing **Entry No.** field, which relates an item ledger entry to a posted document line, handles the typical one-to-one relation when no item tracking numbers exist on the posted document line.</span></span> <span data-ttu-id="c2047-116">Als er artikeltraceringsnummers bestaan, wordt het veld **Volgnummer** leeg gelaten en wordt de één-op-veel relatie verwerkt door de tabel **Artikelpostrelatie**.</span><span class="sxs-lookup"><span data-stu-id="c2047-116">If item tracking numbers exist, then the **Entry No.** field is left blank, and the one-to-many relation is handled by the **Item Entry Relation** table.</span></span> <span data-ttu-id="c2047-117">Als de geboekte documentregel artikeltraceringsnummers heeft, maar slechts betrekking heeft op één artikelpost, verwerkt het veld **Volgnummer** de relatie en wordt geen record gemaakt in de tabel **Artikelpostrelatie**.</span><span class="sxs-lookup"><span data-stu-id="c2047-117">If the posted document line carries item tracking numbers but only relates to a single item ledger entry, then the **Entry No.** field handles the relation, and the no record is created in the **Item Entry Relation** table.</span></span>  
  
## <a name="codeunits-80-and-90"></a><span data-ttu-id="c2047-118">Codeunits 80 en 90</span><span class="sxs-lookup"><span data-stu-id="c2047-118">Codeunits 80 and 90</span></span>  
<span data-ttu-id="c2047-119">Om de artikelposten te splitsen tijdens het boeken, wordt de code in codeunit 80 en 90 omringd door lussen die door globale tijdelijke recordvariabelen lopen.</span><span class="sxs-lookup"><span data-stu-id="c2047-119">To split the item ledger entries during posting, the code in codeunit 80 and codeunit 90, is encircled by loops that run through global temporary record variables.</span></span> <span data-ttu-id="c2047-120">Deze code roept de codeunit 22 aan met een artikeldagboekregel.</span><span class="sxs-lookup"><span data-stu-id="c2047-120">This code calls codeunit 22 with an item journal line.</span></span> <span data-ttu-id="c2047-121">Deze variabelen zijn geïnitialiseerd wanneer artikeltraceringsnummers aanwezig zijn voor de documentregel.</span><span class="sxs-lookup"><span data-stu-id="c2047-121">These variables are initialized when item tracking numbers exist for the document line.</span></span> <span data-ttu-id="c2047-122">Om de code eenvoudig te houden, wordt deze lusstructuur altijd gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c2047-122">To keep the code simple, this looping structure is always used.</span></span> <span data-ttu-id="c2047-123">Als er geen artikeltraceringsnummers bestaan voor de documentregel, wordt één record ingevoegd en wordt de lus slechts eenmaal uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="c2047-123">If no item tracking numbers exist for the document line, then a single record is inserted, and the loop runs only once.</span></span>  
  
## <a name="posting-the-item-journal"></a><span data-ttu-id="c2047-124">Het artikeldagboek boeken</span><span class="sxs-lookup"><span data-stu-id="c2047-124">Posting the Item Journal</span></span>  
<span data-ttu-id="c2047-125">Artikeltraceringsnummers worden overgebracht via de reserveringsposten die aan de artikelpost relateren, en de koppeling via artikeltraceringsnummers vindt plaats in codeunit 22.</span><span class="sxs-lookup"><span data-stu-id="c2047-125">Item tracking numbers are transferred via the reservation entries that relate to the item ledger entry, and the looping through item tracking numbers occurs in codeunit 22.</span></span> <span data-ttu-id="c2047-126">Dit concept werkt op dezelfde manier als wanneer een artikeldagboekregel indirect wordt gebruikt om een verkoop- of inkooporder te boeken als wanneer een artikeldagboekregel rechtstreeks wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c2047-126">This concept works in the same way when an item journal line is used indirectly to post a sale or purchase order as when an item journal line is used directly.</span></span> <span data-ttu-id="c2047-127">Wanneer het artikeldagboek direct wordt gebruikt, wijst het veld **Bronrij-id** naar de artikeldagboekregel zelf.</span><span class="sxs-lookup"><span data-stu-id="c2047-127">When the item journal is used directly, the **Source Row ID** field points to the item journal line itself.</span></span>  
  
## <a name="code-unit-22"></a><span data-ttu-id="c2047-128">Codeunit 22</span><span class="sxs-lookup"><span data-stu-id="c2047-128">Code Unit 22</span></span>  
<span data-ttu-id="c2047-129">Codeunits 80 en 90 lussen de aanroep van codeunit 22 door tijdens de factuurboeking van artikeltraceringsnummers en tijdens het factureren van bestaande verzendingen of ontvangsten.</span><span class="sxs-lookup"><span data-stu-id="c2047-129">Codeunits 80 and 90 loop the call of codeunit 22 during the invoice posting of item tracking numbers and during the invoicing of existing shipments or receipts.</span></span>  
  
<span data-ttu-id="c2047-130">Tijdens het boeken van aantallen van artikeltraceringsnummers, haalt codeunit 22 artikeltraceringsnummers op van de posten in T337 die betrekking hebben op de boeking.</span><span class="sxs-lookup"><span data-stu-id="c2047-130">During quantity posting of item tracking numbers, codeunit 22 retrieves item tracking numbers from the entries in T337 that relate to the posting.</span></span> <span data-ttu-id="c2047-131">Deze posten worden direct op de artikeldagboekregel geplaatst.</span><span class="sxs-lookup"><span data-stu-id="c2047-131">These entries are placed directly on the item journal line.</span></span>  
  
<span data-ttu-id="c2047-132">Codeunit 22 doorloopt de artikeltraceringsnummers en splitst de boeking in de respectievelijke artikelposten die de artikeltraceringsnummers hebben.</span><span class="sxs-lookup"><span data-stu-id="c2047-132">Codeunit 22 loops through the item tracking numbers and splits the posting into the respective item ledger entries that carry the item tracking numbers.</span></span> <span data-ttu-id="c2047-133">Gegevens over welke artikelposten zijn gemaakt, worden teruggezonden naar T337 door een tijdelijke T336-record gebruiken, die wordt aangeroepen door een procedure in codeunit 22.</span><span class="sxs-lookup"><span data-stu-id="c2047-133">Information about which item ledger entries are created is returned to T337 by using a temporary T336 record, which is called by a procedure in codeunit 22.</span></span> <span data-ttu-id="c2047-134">Deze procedure wordt geactiveerd wanneer de uitvoering van codeunit 22 is beëindigd omdat op dat moment het codeunit 22-object de informatie bevat.</span><span class="sxs-lookup"><span data-stu-id="c2047-134">This procedure is triggered when codeunit 22 has finished its run because at that point, the codeunit 22 object contains the information.</span></span> <span data-ttu-id="c2047-135">Wanneer de tijdelijke record T336 wordt opgehaald, maken codeunits 80 en 90 records in de tabel **Artikelpostrelatie** om de gemaakte artikelposten te koppelen aan de gemaakte verzendings- of ontvangstregel.</span><span class="sxs-lookup"><span data-stu-id="c2047-135">When the temporary T336 record is retrieved, codeunits 80 and 90 create records in the **Item Entry Relation** table to link the created item ledger entries to the created shipment or receipt line.</span></span> <span data-ttu-id="c2047-136">Codeunit 80 of 90 zet vervolgens de tijdelijke T336-records om in werkelijke T336-records die verband houden met de desbetreffende regel.</span><span class="sxs-lookup"><span data-stu-id="c2047-136">Codeunits 80 or codeunit 90 then converts the temporary T336 records to real T336 records that are related to the line in question.</span></span> <span data-ttu-id="c2047-137">Deze conversie vindt echter alleen plaats als de geboekte documentregel niet wordt verwijderd, omdat deze slechts gedeeltelijk wordt geboekt.</span><span class="sxs-lookup"><span data-stu-id="c2047-137">However, this conversion occurs only if the posted document line is not deleted, because it is only partially posted.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c2047-138">Zie ook</span><span class="sxs-lookup"><span data-stu-id="c2047-138">See Also</span></span>  
<span data-ttu-id="c2047-139">[Ontwerpdetails: Artikeltracering](design-details-item-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="c2047-139">[Design Details: Item Tracking](design-details-item-tracking.md) </span></span>  
[<span data-ttu-id="c2047-140">Ontwerpdetails: Ontwerp artikeltracering</span><span class="sxs-lookup"><span data-stu-id="c2047-140">Design Details: Item Tracking Design</span></span>](design-details-item-tracking-design.md)
