---
title: Overzicht dagboekboekingsregel
description: In dit onderwerp worden de wijzigingen beschreven die zijn doorgevoerd in Codeunit 12, **Dagboek - Boekingsregel**, het belangrijkste toepassingsobject voor grootboekboekingen en de enige plaats om grootboek-, btw-, klanten- en leveranciersposten in te voegen.
documentationcenter: 
author: SorenGP
ms.prod: dynamics-nav-2017
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: design, general ledger, post
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 4fefaef7380ac10836fcac404eea006f55d8556f
ms.openlocfilehash: acec7686de26d47011a0637ab0b3bf70c8559b71
ms.contentlocale: nl-nl
ms.lasthandoff: 10/16/2017

---
# <a name="general-journal-post-line-overview"></a><span data-ttu-id="5edf5-103">Overzicht dagboekboekingsregel</span><span class="sxs-lookup"><span data-stu-id="5edf5-103">General Journal Post Line Overview</span></span>
<span data-ttu-id="5edf5-104">Codeunit 12, **Dagboek - Boekingsregel**, is het belangrijkste toepassingsobject voor grootboekboekingen en is de enige plaats om grootboek-, btw, klanten- en leveranciersposten in te voegen.</span><span class="sxs-lookup"><span data-stu-id="5edf5-104">Codeunit 12, **Gen. Jnl.-Post Line**, is the major application object for general ledger posting and is the only place to insert general ledger, VAT, and customer and vendor ledger entries.</span></span> <span data-ttu-id="5edf5-105">Deze codeunit wordt ook gebruikt voor de bewerkingen Vereffenen, Vereffening ongedaan maken en Tegenboeken.</span><span class="sxs-lookup"><span data-stu-id="5edf5-105">This codeunit is also used for all Apply, Unapply and Reverse operations.</span></span>  
  
<span data-ttu-id="5edf5-106">Terwijl de codeunit in elke versie gedurende de laatste tien jaar is verbeterd, bleef de architectuur hoofdzakelijk ongewijzigd.</span><span class="sxs-lookup"><span data-stu-id="5edf5-106">While the codeunit has been improved in each release over the last ten years, its architecture remained essentially unchanged.</span></span> <span data-ttu-id="5edf5-107">De codeunit werd zeer groot, met ongeveer 7.600 coderegels.</span><span class="sxs-lookup"><span data-stu-id="5edf5-107">The codeunit became very large, with approximately 7,600 code lines.</span></span> <span data-ttu-id="5edf5-108">In deze versie van [!INCLUDE[d365fin](includes/d365fin_md.md)] is de architectuur gewijzigd en is de codeunit eenvoudiger en makkelijker te beheren.</span><span class="sxs-lookup"><span data-stu-id="5edf5-108">With this release of [!INCLUDE[d365fin](includes/d365fin_md.md)], the architecture is changed and the codeunit has been made simpler and more maintainable.</span></span> <span data-ttu-id="5edf5-109">Deze documentatie introduceert de wijzigingen en bevat informatie die u nodig hebt voor upgrades.</span><span class="sxs-lookup"><span data-stu-id="5edf5-109">This documentation introduces the changes and provides information that you will need for upgrade.</span></span>  
  
## <a name="old-architecture"></a><span data-ttu-id="5edf5-110">Oude architectuur</span><span class="sxs-lookup"><span data-stu-id="5edf5-110">Old Architecture</span></span>  
<span data-ttu-id="5edf5-111">De oude architectuur had de volgende functies:</span><span class="sxs-lookup"><span data-stu-id="5edf5-111">The old architecture had the following features:</span></span>  
  
* <span data-ttu-id="5edf5-112">Er werd uitgebreid gebruikgemaakt van algemene variabelen, waardoor de kans op verborgen fouten als gevolg van variabelen met het verkeerde bereik, groter werd.</span><span class="sxs-lookup"><span data-stu-id="5edf5-112">There was extensive use of global variables, which increased the possibility of hidden errors due to use of variables with the wrong scope.</span></span>  
* <span data-ttu-id="5edf5-113">Er waren veel lange procedures (met meer dan 100 coderegels) die ook zeer cyclomatisch complex waren (er werden veel geneste instructies met CASE, REPEAT en IF gebruikt), waardoor de code erg moeilijk te lezen en onderhouden was.</span><span class="sxs-lookup"><span data-stu-id="5edf5-113">There were many long procedures (with more than 100 code lines) that also had high cyclomatic complexity (that is, a lot of CASE, REPEAT, IF nested statements), which made the code very difficult to read and maintain.</span></span>  
* <span data-ttu-id="5edf5-114">Meerdere procedures die alleen lokaal werden gebruikt en alleen waren bedoeld voor lokaal gebruik, waren niet gemarkeerd als lokaal.</span><span class="sxs-lookup"><span data-stu-id="5edf5-114">Several procedures that were only used locally and were only meant to be used locally were not marked as local.</span></span>  
* <span data-ttu-id="5edf5-115">De meeste procedures hadden geen parameters en gebruikten algemene variabelen.</span><span class="sxs-lookup"><span data-stu-id="5edf5-115">Most procedures had no parameters and used global variables.</span></span> <span data-ttu-id="5edf5-116">Sommige gebruikten parameters en overschreven algemene door lokale variabelen.</span><span class="sxs-lookup"><span data-stu-id="5edf5-116">Some used parameters and overrode global variables with locals.</span></span>  
* <span data-ttu-id="5edf5-117">De codepatronen voor het zoeken van grootboekrekeningen en het maken van grootboek- en btw-posten waren niet gestandaardiseerd en verschilden per plek.</span><span class="sxs-lookup"><span data-stu-id="5edf5-117">Code patterns for searching the general ledger accounts and creating general ledger and VAT entries was not standardized and varied from place to place.</span></span> <span data-ttu-id="5edf5-118">Bovendien waren er veel codedubbelingen en verbroken symmetrie tussen klant- en leverancierscode.</span><span class="sxs-lookup"><span data-stu-id="5edf5-118">In addition, there was a lot of code duplication and broken symmetry between customer and vendor code.</span></span>  
* <span data-ttu-id="5edf5-119">Een groot deel van de code in codeunit 12, ongeveer 30 procent, heeft betrekking op berekeningen van contantkorting en betalingstolerantie, hoewel deze voorzieningen in veel landen of regio's niet nodig zijn.</span><span class="sxs-lookup"><span data-stu-id="5edf5-119">A large part of the code in codeunit 12, approximately 30 percent, related to payment discount and tolerance calculations, although these features are not needed in many countries or regions.</span></span>  
* <span data-ttu-id="5edf5-120">Boeken, Vereffenen, Vereffening ongedaan maken, Tegenboeken, Contantkorting en betalingstolerantie, en Wisselkoersherwaardering waren aan elkaar gekoppeld in codeunit 12 met gebruik van een lange lijst van algemene variabelen.</span><span class="sxs-lookup"><span data-stu-id="5edf5-120">Posting, Apply, Unapply, Reverse, Payment Discount and Tolerance, and Exchange Rate Adjustment were married together in codeunit 12 using a long list of global variables.</span></span>  
  
### <a name="new-architecture"></a><span data-ttu-id="5edf5-121">Nieuwe architectuur</span><span class="sxs-lookup"><span data-stu-id="5edf5-121">New Architecture</span></span>  
<span data-ttu-id="5edf5-122">In [!INCLUDE[d365fin](includes/d365fin_md.md)] heeft codeunit 12 de volgende verbeteringen:</span><span class="sxs-lookup"><span data-stu-id="5edf5-122">In [!INCLUDE[d365fin](includes/d365fin_md.md)], codeunit 12 has had the following improvements:</span></span>  
  
* <span data-ttu-id="5edf5-123">Codeunit 12 is opnieuw gestructureerd in kleinere procedures (alle korter dan 100 coderegels).</span><span class="sxs-lookup"><span data-stu-id="5edf5-123">Codeunit 12 has been refactored into smaller procedures (all less than 100 code lines).</span></span>  
* <span data-ttu-id="5edf5-124">Gestandaardiseerde patronen voor de zoekopdracht van grootboekrekeningen zijn geïmplementeerd door het gebruik van Help-functies uit de boekingsgroeptabellen.</span><span class="sxs-lookup"><span data-stu-id="5edf5-124">Standardized patterns for the search of general ledger accounts have been implemented by using helper functions from Posting Group tables.</span></span>  
* <span data-ttu-id="5edf5-125">Er is een boekingsengineframework geïmplementeerd om het begin en eind van transacties te beheren, en het maken van grootboek- en btw-posten, het verzamelen van btw-aanpassingen en het berekenen van aanvullende valutabedragen te scheiden.</span><span class="sxs-lookup"><span data-stu-id="5edf5-125">A Posting Engine Framework has been implemented to manage the start and finish of transactions and to isolate the creation to general ledger and VAT entries, the collection of VAT adjustment, and the calculation of additional currency amounts.</span></span>  
* <span data-ttu-id="5edf5-126">Codeverdubbeling is uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="5edf5-126">Code duplication has been eliminated.</span></span>  
* <span data-ttu-id="5edf5-127">Veel Help-functies zijn overgebracht naar overeenkomstige tabellen voor klant- en leveranciersposten.</span><span class="sxs-lookup"><span data-stu-id="5edf5-127">Many helper functions have been transferred to corresponding customer and vendor ledger entry tables.</span></span>  
* <span data-ttu-id="5edf5-128">Het gebruik van algemene variabelen is geminimaliseerd, zodat elke procedure parameters gebruikt en een eigen toepassingslogica omvat.</span><span class="sxs-lookup"><span data-stu-id="5edf5-128">The use of global variables has been minimized, so that each procedure uses parameters and encapsulates its own application logic.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5edf5-129">Zie ook</span><span class="sxs-lookup"><span data-stu-id="5edf5-129">See Also</span></span>  
<span data-ttu-id="5edf5-130">[Ontwerpdetails: boekingsinterfacestructuur](design-details-posting-interface-structure.md) </span><span class="sxs-lookup"><span data-stu-id="5edf5-130">[Design Details: Posting Interface Structure](design-details-posting-interface-structure.md) </span></span>  
[<span data-ttu-id="5edf5-131">Ontwerpdetails: boekingsenginestructuur</span><span class="sxs-lookup"><span data-stu-id="5edf5-131">Design Details: Posting Engine Structure</span></span>](design-details-posting-engine-structure.md)

