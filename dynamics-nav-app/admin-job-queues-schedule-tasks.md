---
title: Taken plannen voor automatische uitvoering
description: "Geplande taken worden beheerd door de taakwachtrij. Met deze taken worden rapporten en codeunits uitgevoerd. U kunt taken éénmalig of herhaaldelijk uitvoeren."
author: edupont04
ms.prod: dynamics-nav-2017
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 09/01/2017
ms.author: edupont
ms.translationtype: HT
ms.sourcegitcommit: 4fefaef7380ac10836fcac404eea006f55d8556f
ms.openlocfilehash: d88b2157892a60fb74a5dcfcd83524895485689f
ms.contentlocale: nl-nl
ms.lasthandoff: 10/16/2017

---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="83729-105">Gebruik van taakwachtrijen om taken te plannen</span><span class="sxs-lookup"><span data-stu-id="83729-105">Use Job Queues to Schedule Tasks</span></span>
<span data-ttu-id="83729-106">Met taakwachtrijen in [!INCLUDE[d365fin](includes/d365fin_md.md)] kunnen gebruikers specifieke rapporten en codeunits plannen en uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="83729-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="83729-107">U kunt taken éénmalig of herhaaldelijk uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="83729-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="83729-108">U kunt bijvoorbeeld het statistiekrapport **Verkoper - Statistiek** wekelijks uitvoeren om de verkopen per verkoper wekelijks bij te houden of u kunt de codeunit **E-mailwachtrij service verwerken** dagelijks uitvoeren om ervoor te zorgen dat niet-verzonden e-mailberichten aan klanten met betrekking tot hun serviceorders tijdig worden verzonden.</span><span class="sxs-lookup"><span data-stu-id="83729-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span></span>  

## <a name="add-jobs-to-the-job-queue"></a><span data-ttu-id="83729-109">Taken toevoegen aan de taakwachtrij</span><span class="sxs-lookup"><span data-stu-id="83729-109">Add Jobs to the Job Queue</span></span>
<span data-ttu-id="83729-110">In het venster **Taakwachtrijposten** worden alle bestaande posten weergegeven.</span><span class="sxs-lookup"><span data-stu-id="83729-110">The **Job Queue Entries** window lists all existing jobs.</span></span> <span data-ttu-id="83729-111">Als u een nieuwe taakwachtrijpost toevoegt die u wilt plannen, moet u informatie opgeven over het objecttype dat u wilt uitvoeren, zoals een rapport of codeunit, en de naam en id van het object opgeven dat u wilt uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="83729-111">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="83729-112">U kunt ook parameters toevoegen om het gedrag van de taakwachtrijpost te specificeren.</span><span class="sxs-lookup"><span data-stu-id="83729-112">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="83729-113">Zo kunt u een parameter toevoegen om alleen geboekte verkooporders te verzenden.</span><span class="sxs-lookup"><span data-stu-id="83729-113">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="83729-114">U moet zijn gemachtigd om het betreffende rapport of de betreffende code-unit uit te voeren, want anders wordt een fout geretourneerd wanneer de verwerkingswachtrij wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="83729-114">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="83729-115">Stel desgewenst in het veld **Categoriefilter taakwachtrij** een filter in.</span><span class="sxs-lookup"><span data-stu-id="83729-115">Optionally, you can set a filter in the **Job Queue Category Filter** field.</span></span> <span data-ttu-id="83729-116">U kunt taakwachtrijcategorieën gebruiken om taken in de lijst te groeperen.</span><span class="sxs-lookup"><span data-stu-id="83729-116">Job queue categories can be used to group jobs in the list.</span></span>

<span data-ttu-id="83729-117">In [!INCLUDE[d365fin](includes/d365fin_md.md)] worden de taken automatisch uitgevoerd op basis van de opgegeven schema's voor elke taakwachtrijpost.</span><span class="sxs-lookup"><span data-stu-id="83729-117">[!INCLUDE[d365fin](includes/d365fin_md.md)] automatically runs the jobs according to the specified schedules for each job queue entry.</span></span> <span data-ttu-id="83729-118">U kunt een taakwachtrijpost ook starten, stoppen en handmatig in de wacht zetten.</span><span class="sxs-lookup"><span data-stu-id="83729-118">You can also start, stop, and put a job queue entry on hold manually.</span></span>

### <a name="log-files"></a><span data-ttu-id="83729-119">Logbestanden</span><span class="sxs-lookup"><span data-stu-id="83729-119">Log Files</span></span>
<span data-ttu-id="83729-120">Fouten worden weergegeven in het venster **Logposten taakwachtrij**, dat u kunt openen via het lint.</span><span class="sxs-lookup"><span data-stu-id="83729-120">Errors are listed in the **Job Queue Log Entries** window that you can access from the ribbon.</span></span> <span data-ttu-id="83729-121">U kunt ook problemen met verwerkingswachtrijen oplossen.</span><span class="sxs-lookup"><span data-stu-id="83729-121">You can also troubleshoot job queue errors.</span></span> <span data-ttu-id="83729-122">Gegevens die worden gegenereerd wanneer een verwerkingswachtrij wordt uitgevoerd, worden opgeslagen in de database.</span><span class="sxs-lookup"><span data-stu-id="83729-122">Data that is generated when a job queue is run is stored in the database.</span></span>  

### <a name="background-posting-with-job-queues"></a><span data-ttu-id="83729-123">Boeken op achtergrond met taakwachtrijen</span><span class="sxs-lookup"><span data-stu-id="83729-123">Background Posting with Job Queues</span></span>
<span data-ttu-id="83729-124">Taakwachtrijen zijn een effectief hulpmiddel voor het plannen van de uitvoering van zakelijke processen op de achtergrond.</span><span class="sxs-lookup"><span data-stu-id="83729-124">Job queues are an effective tool to schedule the running of business processes in the background.</span></span> <span data-ttu-id="83729-125">Zo kan het voorkomen dat meerdere gebruikers tegelijkertijd proberen verkooporders te boeken, maar dat er slechts één order per keer kan worden verwerkt.</span><span class="sxs-lookup"><span data-stu-id="83729-125">For example, there may be an instance in which multiple users are trying to post sales orders at the same time, but only one order can be processed at a time.</span></span> <span data-ttu-id="83729-126">Door het instellen van een routine voor het boeken op de achtergrond , kunt u de boekingen in een wachtrij voor verwerking op de achtergrond plaatsen.</span><span class="sxs-lookup"><span data-stu-id="83729-126">By setting up a background posting routine, you can place the postings in a queue for processing in the background.</span></span>  

 <span data-ttu-id="83729-127">U wilt mogelijk ook boekingen plannen voor tijden die geschikt zijn voor uw organisatie.</span><span class="sxs-lookup"><span data-stu-id="83729-127">Alternatively, you may want to schedule postings for hours when it is convenient for your organization.</span></span> <span data-ttu-id="83729-128">Het kan bijvoorbeeld zinvol zijn in uw bedrijf bepaalde routines uit te voeren wanneer de meeste van de gegevensinvoer voor de dag is afgesloten.</span><span class="sxs-lookup"><span data-stu-id="83729-128">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="83729-129">U kunt dat bereiken door de taakwachtrij in te stellen om diverse batchverwerkingsrapporten uit te voeren, zoals **Batchboeken verkooporders**, **Batchboeken verkoopfacturen** en **Batchboeken verk.-creditnota**.</span><span class="sxs-lookup"><span data-stu-id="83729-129">You can achieve this by setting the job queue up to run various batch post reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and **Batch Post Sales Credit Memos** reports.</span></span>  

 [!INCLUDE[d365fin](includes/d365fin_md.md)]<span data-ttu-id="83729-130"> ondersteunt boeken op de achtergrond voor de volgende documentsoorten:</span><span class="sxs-lookup"><span data-stu-id="83729-130"> supports background posting for the following document types:</span></span>  

-   <span data-ttu-id="83729-131">Verkoop: verkooporder, retourorder, creditnota, factuur</span><span class="sxs-lookup"><span data-stu-id="83729-131">Sales: sales order, return order, credit memo, invoice</span></span>  

-   <span data-ttu-id="83729-132">Inkoop: inkooporder, retourorder, creditnota, factuur</span><span class="sxs-lookup"><span data-stu-id="83729-132">Purchases: purchase order, return order, credit memo, invoice</span></span>  

 <span data-ttu-id="83729-133">Als de taakwachtrij de verkooporder niet kan boeken, wordt de status gewijzigd in **Fout** en wordt de verkooporder toegevoegd aan de lijst met verkooporders die de gebruiker moet afhandelen.</span><span class="sxs-lookup"><span data-stu-id="83729-133">If the job queue cannot post the sales order, the status is changed to **Error**, and the sales order is added to the list of sales orders that the user will have to handle.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="83729-134">Wanneer u een document voor het boeken plant en het boekingsproces begint, is er automatisch binnen twee uur een time-out in de boekingsroutine geconfigureerd als het boekingsproces niet meer reageert.</span><span class="sxs-lookup"><span data-stu-id="83729-134">When you schedule a document for posting and the posting process begins, the posting routine is automatically configured to time out within two hours if the posting routine stops responding for any reason.</span></span>  

<span data-ttu-id="83729-135">U stelt dit gebruik van de taakwachtrij in het venster **Instellingen van verkoop en tegoeden** of **Inkopen en Leveranciers** in.</span><span class="sxs-lookup"><span data-stu-id="83729-135">You set up this use of the job queue in the **Sales & Receivables Setup** window or the **Purchases & Payables** window, respectively.</span></span> <span data-ttu-id="83729-136">Op het sneltabblad **Boeken in achtergrond** schakelt u het selectievakje **Documenten boeken via taakwachtrij** in en vult u de relevante gegevens in.</span><span class="sxs-lookup"><span data-stu-id="83729-136">On the **Background Posting** FastTab, you choose the **Post Documents via Job Queue** check box and then fill in the relevant information.</span></span> <span data-ttu-id="83729-137">Hier kunt u ook het veld **Taakwachtrijcategoriecode** gebruiken om alle taakwachtrijposten met die code uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="83729-137">Here you can also use the **Job Queue Category Code** field to run all job queue entries with that code.</span></span> <span data-ttu-id="83729-138">U kunt bijvoorbeeld een categorie **Vrkboeking** gebruiken om te filteren op alle verkooporders die overeenkomen met een taakwachtrij die dezelfde categoriecode heeft.</span><span class="sxs-lookup"><span data-stu-id="83729-138">For example, you can use  a **SalesPost** category that filters to all sales orders that match any job queue that has the same category code.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="83729-139">Wanneer u een taak voor het boeken en afdrukken van documenten instelt en er op de printer een dialoogvenster wordt weergegeven, zoals een verzoek om aanmeldingsgegevens of een waarschuwing over een laag printerinktniveau, dan wordt het document geboekt, maar niet afgedrukt.</span><span class="sxs-lookup"><span data-stu-id="83729-139">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="83729-140">De overeenkomstige invoer van de taakwachtrij krijgt uiteindelijk een time-out en het veld **Status** wordt ingesteld op **Fout**.</span><span class="sxs-lookup"><span data-stu-id="83729-140">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="83729-141">Dienovereenkomstig is het raadzaam dat u geen printerinstellingen gebruikt waarvoor interactie met de weergave van printerdialoogvensters nodig is in combinatie met boeken op de achtergrond.</span><span class="sxs-lookup"><span data-stu-id="83729-141">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>  

## <a name="use-the-my-job-queue-part"></a><span data-ttu-id="83729-142">Het onderdeel Mijn taakwachtrij gebruiken</span><span class="sxs-lookup"><span data-stu-id="83729-142">Use the My Job Queue Part</span></span>
<span data-ttu-id="83729-143">In het onderdeel **Mijn taakwachtrij** deel worden de taakwachtrijen weergegeven die een gebruiker heeft gestart, maar die nog niet zijn voltooid.</span><span class="sxs-lookup"><span data-stu-id="83729-143">The **My Job Queue** part shows the job queues entries that a user has started, but which are not yet finished.</span></span> <span data-ttu-id="83729-144">Standaard is het onderdeel niet zichtbaar, zodat u het moet toevoegen aan uw rolcentrum.</span><span class="sxs-lookup"><span data-stu-id="83729-144">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="83729-145">Zie [Procedure: Een rolcentrum wijzigen](change-role.md) voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="83729-145">For more information, see [How to: Change Role Centers](change-role.md).</span></span>  

<span data-ttu-id="83729-146">In dit onderdeel ziet u de documenten die worden verwerkt of die in de wachtrij zijn gezet en waarvoor uw id is opgegeven in het veld **Toegewezen gebruikers-id**.</span><span class="sxs-lookup"><span data-stu-id="83729-146">In this part, you can see those documents that are being processed or that are queued for which your ID is specified in the **Assigned User ID** field.</span></span> <span data-ttu-id="83729-147">Het onderdeel helpt u bij het bijhouden van alle taakwachtrijposten, inclusief de posten die betrekking hebben op boeken op de achtergrond.</span><span class="sxs-lookup"><span data-stu-id="83729-147">The part helps you keep track of all job queue entries, including those related to background posting.</span></span> <span data-ttu-id="83729-148">Het onderdeel kan u in één oogopslag laten zien of er een fout is opgetreden bij het boeken van een document en of er fouten zijn opgetreden in een taakwachtrijpost.</span><span class="sxs-lookup"><span data-stu-id="83729-148">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="83729-149">Met het onderdeel kunt u een documentboeking annuleren als deze niet wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="83729-149">The part also lets you cancel a document posting if it is not running.</span></span>  

## <a name="security"></a><span data-ttu-id="83729-150">Beveiliging</span><span class="sxs-lookup"><span data-stu-id="83729-150">Security</span></span>  
<span data-ttu-id="83729-151">Taakwachtrijposten worden uitgevoerd op basis van machtigingen.</span><span class="sxs-lookup"><span data-stu-id="83729-151">Job queue entries run based on permissions.</span></span> <span data-ttu-id="83729-152">Die machtigingen moeten de uitvoering van de lijst of codeunit toestaan.</span><span class="sxs-lookup"><span data-stu-id="83729-152">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="83729-153">Wanneer een taakwachtrij handmatig is geactiveerd, wordt deze uitgevoerd met de referenties van de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="83729-153">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="83729-154">Wanneer een taakwachtrij is geactiveerd als een geplande taak, wordt deze uitgevoerd met de referenties van de serverinstantie.</span><span class="sxs-lookup"><span data-stu-id="83729-154">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="83729-155">Wanneer een taak wordt uitgevoerd, wordt deze uitgevoerd met de referenties van de taakwachtrij die deze activeert.</span><span class="sxs-lookup"><span data-stu-id="83729-155">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="83729-156">De gebruiker die de taakwachtrijpost maakte, moet echter ook machtigingen hebben.</span><span class="sxs-lookup"><span data-stu-id="83729-156">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="83729-157">Wanneer een taak wordt uitgevoerd in de gebruikerssessie (bijvoorbeeld bij het boeken op de achtergrond), wordt deze uitgevoerd met de referenties van de gebruiker die deze taak heeft gemaakt.</span><span class="sxs-lookup"><span data-stu-id="83729-157">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="83729-158">Als u de machtigingenset SUPER gebruikt die wordt geleverd met [!INCLUDE[d365fin](includes/d365fin_md.md)], hebben u en uw gebruikers de machtiging om alle objecten uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="83729-158">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="83729-159">In dit geval wordt de toegang voor elke gebruiker alleen beperkt door machtigingen voor gegevens.</span><span class="sxs-lookup"><span data-stu-id="83729-159">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="83729-160">Taakwachtrijen efficiënt gebruiken</span><span class="sxs-lookup"><span data-stu-id="83729-160">Using Job Queues Effectively</span></span>  
<span data-ttu-id="83729-161">De record van de taakwachtrijpost heeft veel velden om de parameters in een codeunit te plaatsen die u hebt opgegeven voor het uitvoeren met een taakwachtrij.</span><span class="sxs-lookup"><span data-stu-id="83729-161">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="83729-162">Dit betekent ook dat codeunits die moeten worden uitgevoerd via de taakwachtrij, moeten worden gespecificeerd met de taakwachtrijrecord als een parameter in de **OnRun** trigger.</span><span class="sxs-lookup"><span data-stu-id="83729-162">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="83729-163">Dit biedt een extra beveiligingsniveau aangezien het voorkomt dat gebruikers willekeurige codeunits uitvoeren via de taakwachtrij.</span><span class="sxs-lookup"><span data-stu-id="83729-163">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="83729-164">Als de gebruiker parameters aan een rapport moet doorgeven, kan dit enkel door de lijstuitvoering in een codeunit te plaatsen die vervolgens de invoerparameters parseert en deze in de lijst plaatst voordat deze wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="83729-164">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="83729-165">Zie ook</span><span class="sxs-lookup"><span data-stu-id="83729-165">See Also</span></span>  
[<span data-ttu-id="83729-166">Installatie en beheer in Dynamics NAV</span><span class="sxs-lookup"><span data-stu-id="83729-166">Setup and Administration in Dynamics NAV</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="83729-167">Instellen van Dynamics NAV</span><span class="sxs-lookup"><span data-stu-id="83729-167">Setting Up Dynamics NAV</span></span>](setup.md)  

